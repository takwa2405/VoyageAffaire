<div class="container">
  <h1 style="margin-top: 1.2em; text-align: center">
    Registration
  </h1>

  <!-- Using template driven form mechanism to control the input and to fill the user properties directly-->
  <form #f="ngForm">

    <div class="form-group">
      <label>Name<sup class="sup-style">*</sup></label>
      <input type="text" name="name" class="form-control" required [(ngModel)]="user.name" #n="ngModel">
    </div>

    <div class="alert alert-danger" *ngIf="n.invalid && n.touched">
      <div> Field name is a required field</div>
    </div>

    <div class="form-group">
      <label>Last Name<sup class="sup-style">*</sup></label>
      <input type="text" name="last-name" class="form-control" required [(ngModel)]="user.lastname" #ln="ngModel">
    </div>

    <div class="danger alert-danger" *ngIf="ln.invalid && ln.touched">
      <div> Field Last Name is a required field</div>
    </div>

    <div class="form-group">
      <label>Email<sup class="sup-style">*</sup></label>
      <input type="email" name="email" class="form-control" required [(ngModel)]="user.email" #e="ngModel"
             pattern="[a-zA-Z0-9._-]+@+[a-zA-Z0-9]+.+[a-zA-Z0-9]{2,4}">
    </div>

    <div class="alert alert-danger" *ngIf="e.invalid && e.touched">
      <div *ngIf="e.errors?.required"> Email is a required field</div>
      <div *ngIf="e.errors?.pattern">Email form is not valid</div>
    </div>

    <div class="form-group">
      <label>Password<sup class="sup-style">*</sup></label>
      <input type="password" name="password" minlength="6" class="form-control" required [(ngModel)]="user.password"
             #p="ngModel">
    </div>
    <div class="alert alert-danger" *ngIf="p.invalid && (p.dirty && p.touched)">
      <div *ngIf="p.errors?.required">password is a required field</div>
      <div *ngIf="p.errors?.minlength">password should be at least 6 characters</div>
    </div>

    <div class="form-group">
      <label for="adr">Adress<sup class="sup-style">*</sup></label>
      <textarea name="adress" required="" [defaultValue]="" class="form-control" id="adr" rows="3"
                [(ngModel)]="user.adress" #ad="ngModel"></textarea>
    </div>

    <div class="danger alert-danger" *ngIf="ad.invalid && ad.touched">
      <div> Adress is a required field</div>
    </div>


    <div class="form-group">
      <label>Role<sup class="sup-style">*</sup></label><br>
      <div class="form-check form-check-inline">
        <input class="form-check-input" [(ngModel)]="user.roles" required  type="radio" name="roleUser" id="r1"
               value="user" #r="ngModel">
        <label class="form-check-label" for="r1">User</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" [(ngModel)]="user.roles"  required type="radio" name="roleUser" id="r2"
               value="rr">
        <label class="form-check-label" for="r2">Restaurant Manager</label>
      </div>
    </div>

    <div class="alert alert-danger" *ngIf="r.invalid && r.touched">
      <div> You have to choose a role</div>
    </div>

    <div style="text-align: right">
      <button class="btn btn-primary" (click)="registerUser()" [disabled]="f.invalid">Validate</button>
      <button style="margin-left: 30px;" class="btn btn-danger" type="reset">Reset</button>
    </div>


  </form>

</div>


